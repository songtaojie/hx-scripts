
# 发布脚本

## 介绍
博客项目，用户认证中心项目，nginx的镜像发布/拉取脚本

## 拉取博客项目/用户认证中心项目的镜像
如果不想自己生成镜像可以直接拉取我这边已经生成好的镜像
- **1. 拉取客户端源代码，拉取该发布脚本代码**
- **2.  修改相应的配置**

2.1、修改publish文件夹中.env文件里面的数据库，redis缓存的配置地址，改成自己的链接地址
![输入图片说明](https://images.gitee.com/uploads/images/2021/0725/100408_5b4dd18b_2229723.png "屏幕截图.png")

2.2、打开终端定位到发布脚本根目录，执行sh run.sh命令，选择命令1拉取发布，再次选择命令1拉取镜像服务，可以看到容器已经启动（请确保端口可用）

![输入图片说明](https://images.gitee.com/uploads/images/2021/0725/104735_18ae2379_2229723.png "屏幕截图.png")

## 构建博客项目/用户认证中心项目镜像

- **1. 拉取api和客户端源代码**
- **2.  修改相应的配置，修改build文件夹中.env文件里面的数据库，redis缓存的配置地址，改成自己的链接地址**
- **3.  打开终端定位到发布脚本根目录，执行sh run.sh命令，选择命令0构建镜像，然后按步骤选择进行执行**
![输入图片说明](https://images.gitee.com/uploads/images/2021/0725/112726_b885c0d9_2229723.png "屏幕截图.png")

## 构建nginx镜像容器
如果服务器上未安装nginx，可以通过构建nginx容器来使用nginx服务

1、修改相应的nginx配置，和正常的nginx配置一样，修改构建镜像的卷的地址为自己的地址，这个地址会影响到nginx配置中的路径

![输入图片说明](https://images.gitee.com/uploads/images/2021/0725/135025_01b39cfb_2229723.png "屏幕截图.png")

2、运行步骤和构建项目一样，选择nginx构建的编号，如下图
![输入图片说明](https://images.gitee.com/uploads/images/2021/0725/134616_2f609997_2229723.png "屏幕截图.png")
